from http.server import BaseHTTPRequestHandler
from routes.main import routes
from pathlib import Path

class Server(BaseHTTPRequestHandler):
    def respond(self):
        content = self.handle_http(200, 'text/html')
        return

    def do_HEAD(self):
        return
    
    def do_POST(self):
        return
    
    def do_GET(self):
        self.respond()
        return
    
    def handle_http(self, status, content_type):
        status = 200
        content_type = "text/plain"
        response_content = ""

        if self.path in routes:
            print(routes[self.path])
            route_content = routes[self.path]['template']
            filepath = Path("templates/{}".format(route_content))
        
        self.send_response(status)
        self.send_header('Content-type', content_type)
        self.end_headers()
        return bytes("Hi Mom", "UTF-8")
